#!/usr/bin/expect -f

set timeout -1
spawn ./prybar-clojure -i ./test_files/hello.clj
match_max 100000
expect -re {Clojure (?:.*)\r}
expect -exact "hello\r"
expect -exact "user=> \r"

send -- "b\r"
expect -exact "b\r"
expect -exact "42\r"
expect -exact "user=> "

send -- ""
expect eof
